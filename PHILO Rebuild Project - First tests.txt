PHILO Rebuild Project - First tests


/philo_rebuild   main ●  for i in {1..10}; do ./philo 8 800 20
0 200 5 | grep "is eating" | wc -l; done
43
40
40
40
40
41
40
40
43
40
 ~/.../philosophers/philo_rebuild   main ●  for i in {1..10}; do ./philo 8 800 200 200 4 | grep "is eating" | wc -l; done
34
32
36
32
32
33
32
32
32
32
 ~/.../philosophers/philo_rebuild   main ●  for i in {1..10}; do ./philo 9 800 20
0 200 5 | grep "is eating" | wc -l; done
52
51
56
51
56
60
52
52
56
51
 ~/.../philosophers/philo_rebuild   main ●  for i in {1..10}; do ./philo 9 800 200 200 5 | grep "is eating" | wc -l; done
51
56
52
49
52
64
52
51
50
56
 ~/.../philosophers/philo_rebuild   main ●  ./philo 1 800 200 200
  - Philosophers: 1
  - Time to die: 800 ms
  - Time to eat: 200 ms
  - Time to sleep: 200 ms
  - Must eat: unlimited
0 1 has taken a fork
801 1 died
 ~/.../philosophers/philo_rebuild   main ●  ./philo 4 310 200 100
  - Philosophers: 4
  - Time to die: 310 ms
  - Time to eat: 200 ms
  - Time to sleep: 100 ms
  - Must eat: unlimited
1 1 has taken a fork
1 3 has taken a fork
1 3 has taken a fork
1 3 is eating
1 1 has taken a fork
1 1 is eating
201 3 is sleeping
201 1 is sleeping
201 2 has taken a fork
201 2 has taken a fork
201 2 is eating
201 4 has taken a fork
201 4 has taken a fork
201 4 is eating
301 1 is thinking
301 3 is thinking
312 1 died
 ~/.../philosophers/philo_rebuild   main ●  ./philo 5 800 200 200 7 | grep "is eating" | wc -l
40
 ~/.../philosophers/philo_rebuild   main ●  ./philo 5 800 200 200 7 | grep "is eating" | wc -l
42
 ~/.../philosophers/philo_rebuild   main ●  ./philo 5 800 200 200 7 | grep "is eating" | wc -l
44
 ~/.../philosophers/philo_rebuild   main ●  ./philo 5 800 200 200 7 | grep "is eating" | wc -l
40
 ~/.../philosophers/philo_rebuild   main ●  for i in {1..20}; do ./philo 8 800 200 200 7 | grep "is eating" | wc -l; done
60
56
56
56
56
60
60
56
56
56
56
56
56
57
57
56
58
56
56
56
 ~/.../philosophers/philo_rebuild   main ●  for i in {1..10}; do ./philo 11 800 200 200 7 | grep "is eating" | wc -l; done
83
88
94
94
89
82
90
97
101
86
 ~/.../philosophers/philo_rebuild   main ●  for i in {1..10}; do ./philo 11 800 200 200 7 | grep "is eating" | wc -l; done
93
93
94
93
85
97
82
90
88
94
 ~/.../philosophers/philo_rebuild   main ● 


-----------------------------------------------------------------------------

Valgrind


/philo_rebuild   main ●  valgrind --leak-check=full ./philo 5 800 200 200 7
==29273== Memcheck, a memory error detector
==29273== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==29273== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==29273== Command: ./philo 5 800 200 200 7
==29273==
  - Philosophers: 5
  - Time to die: 800 ms
  - Time to eat: 200 ms
  - Time to sleep: 200 ms
  - Must eat: 7 times
105 2 has taken a fork
108 2 has taken a fork
108 2 is eating
110 4 has taken a fork
153 4 has taken a fork
155 4 is eating
155 5 has taken a fork
308 2 is sleeping
308 1 has taken a fork
355 3 has taken a fork
355 3 has taken a fork
355 3 is eating
355 5 has taken a fork
355 5 is eating
355 4 is sleeping
508 2 is thinking
555 3 is sleeping
555 5 is sleeping
555 1 has taken a fork
555 1 is eating
555 4 is thinking
555 4 has taken a fork
555 4 has taken a fork
555 4 is eating
755 1 is sleeping
755 5 is thinking
755 4 is sleeping
755 2 has taken a fork
755 2 has taken a fork
755 2 is eating
755 3 is thinking
755 3 has taken a fork
755 5 has taken a fork
755 5 has taken a fork
756 5 is eating
955 1 is thinking
955 1 has taken a fork
955 4 is thinking
955 2 is sleeping
955 3 has taken a fork
955 3 is eating
956 5 is sleeping
956 1 has taken a fork
956 1 is eating
1155 2 is thinking
1155 3 is sleeping
1155 4 has taken a fork
1155 4 has taken a fork
1155 4 is eating
1156 1 is sleeping
1156 2 has taken a fork
1156 2 has taken a fork
1156 2 is eating
1156 5 is thinking
1156 5 has taken a fork
1355 4 is sleeping
1355 3 is thinking
1355 5 has taken a fork
1355 5 is eating
1355 3 has taken a fork
1356 1 is thinking
1356 1 has taken a fork
1356 2 is sleeping
1356 3 has taken a fork
1356 3 is eating
1555 4 is thinking
1555 1 has taken a fork
1555 1 is eating
1555 5 is sleeping
1556 2 is thinking
1556 3 is sleeping
1556 4 has taken a fork
1556 4 has taken a fork
1556 4 is eating
1755 5 is thinking
1755 1 is sleeping
1755 5 has taken a fork
1755 2 has taken a fork
1755 2 has taken a fork
1755 2 is eating
1756 4 is sleeping
1756 3 is thinking
1756 3 has taken a fork
1756 5 has taken a fork
1756 5 is eating
1955 1 is thinking
1955 1 has taken a fork
1955 2 is sleeping
1955 3 has taken a fork
1955 3 is eating
1956 5 is sleeping
1956 4 is thinking
1956 1 has taken a fork
1956 1 is eating
2155 2 is thinking
2155 4 has taken a fork
2155 4 has taken a fork
2155 4 is eating
2155 3 is sleeping
2156 5 is thinking
2156 5 has taken a fork
2156 2 has taken a fork
2156 2 has taken a fork
2156 2 is eating
2156 1 is sleeping
2355 3 is thinking
2355 4 is sleeping
2355 3 has taken a fork
2355 5 has taken a fork
2355 5 is eating
2356 2 is sleeping
2356 1 is thinking
2356 1 has taken a fork
2356 3 has taken a fork
2356 3 is eating
2555 4 is thinking
2555 5 is sleeping
2555 1 has taken a fork
2555 1 is eating
2556 3 is sleeping
2556 4 has taken a fork
2556 4 has taken a fork
2556 4 is eating
2556 2 is thinking
2755 1 is sleeping
2755 5 is thinking
2755 5 has taken a fork
2755 2 has taken a fork
2755 2 has taken a fork
2755 2 is eating
2756 4 is sleeping
2756 5 has taken a fork
2756 5 is eating
2756 3 is thinking
2756 3 has taken a fork
2955 2 is sleeping
2955 3 has taken a fork
2955 3 is eating
2955 1 is thinking
2955 1 has taken a fork
2956 4 is thinking
2956 5 is sleeping
2956 1 has taken a fork
2956 1 is eating
3155 2 is thinking
3155 3 is sleeping
3155 4 has taken a fork
3155 4 has taken a fork
3155 4 is eating
3156 5 is thinking
3156 1 is sleeping
3156 5 has taken a fork
3156 2 has taken a fork
3156 2 has taken a fork
3156 2 is eating
3355 3 is thinking
3355 3 has taken a fork
3355 4 is sleeping
3355 5 has taken a fork
3355 5 is eating
3356 1 is thinking
3356 2 is sleeping
3356 1 has taken a fork
3356 3 has taken a fork
3356 3 is eating
3555 4 is thinking
3555 5 is sleeping
3555 1 has taken a fork
3555 1 is eating
3556 2 is thinking
3556 3 is sleeping
3556 4 has taken a fork
3556 4 has taken a fork
3556 4 is eating
3755 5 is thinking
3755 1 is sleeping
==29273==
==29273== HEAP SUMMARY:
==29273==     in use at exit: 0 bytes in 0 blocks
==29273==   total heap usage: 9 allocs, 9 frees, 3,536 bytes allocated
==29273==
==29273== All heap blocks were freed -- no leaks are possible
==29273==
==29273== For lists of detected and suppressed errors, rerun with: -s
==29273== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
 ~/.../philosophers/philo_rebuild   main ● 




-----------------------------------------------------------------



Valgrind



/philo_rebuild   main ●  valgrind --tool=helgrind ./philo 5 800 200 200 7
==29340== Helgrind, a thread error detector
==29340== Copyright (C) 2007-2017, and GNU GPL'd, by OpenWorks LLP et al.
==29340== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==29340== Command: ./philo 5 800 200 200 7
==29340==
  - Philosophers: 5
  - Time to die: 800 ms
  - Time to eat: 200 ms
  - Time to sleep: 200 ms
  - Must eat: 7 times
8 1 has taken a fork
10 1 has taken a fork
10 1 is eating
13 3 has taken a fork
14 3 has taken a fork
14 3 is eating
211 5 has taken a fork
212 5 has taken a fork
212 5 is eating
214 1 is sleeping
215 2 has taken a fork
216 2 has taken a fork
216 2 is eating
216 3 is sleeping
217 4 has taken a fork
413 5 is sleeping
413 4 has taken a fork
413 4 is eating
415 1 is thinking
416 2 is sleeping
416 1 has taken a fork
416 1 has taken a fork
416 1 is eating
417 3 is thinking
613 5 is thinking
613 4 is sleeping
613 3 has taken a fork
614 3 has taken a fork
614 3 is eating
616 2 is thinking
616 5 has taken a fork
616 5 has taken a fork
617 5 is eating
617 2 has taken a fork
617 1 is sleeping
813 4 is thinking
814 3 is sleeping
815 2 has taken a fork
815 2 is eating
816 4 has taken a fork
817 4 has taken a fork
817 4 is eating
817 5 is sleeping
818 1 is thinking
1014 3 is thinking
1016 2 is sleeping
1016 1 has taken a fork
1016 1 has taken a fork
1017 1 is eating
1017 3 has taken a fork
1018 3 has taken a fork
1018 3 is eating
1018 4 is sleeping
1019 5 is thinking
1216 2 is thinking
1217 5 has taken a fork
1217 5 has taken a fork
1219 5 is eating
1219 2 has taken a fork
1220 2 has taken a fork
1220 2 is eating
1220 3 is sleeping
1221 1 is sleeping
1221 4 is thinking
1221 4 has taken a fork
1419 5 is sleeping
1419 4 has taken a fork
1419 4 is eating
1420 2 is sleeping
1422 1 is thinking
1423 1 has taken a fork
1423 1 has taken a fork
1424 1 is eating
1424 3 is thinking
1619 5 is thinking
1620 4 is sleeping
1622 2 is thinking
1622 3 has taken a fork
1624 3 has taken a fork
1624 3 is eating
1624 1 is sleeping
1625 5 has taken a fork
1625 5 has taken a fork
1626 5 is eating
1626 2 has taken a fork
1821 4 is thinking
1824 3 is sleeping
1825 4 has taken a fork
1825 2 has taken a fork
1826 2 is eating
1826 1 is thinking
1827 4 has taken a fork
1828 4 is eating
1829 5 is sleeping
2024 3 is thinking
2026 2 is sleeping
2026 1 has taken a fork
2027 1 has taken a fork
2027 1 is eating
2028 4 is sleeping
2028 3 has taken a fork
2029 3 has taken a fork
2029 3 is eating
2029 5 is thinking
2226 2 is thinking
2228 4 is thinking
2228 1 is sleeping
2229 4 has taken a fork
2229 4 has taken a fork
2229 4 is eating
2229 3 is sleeping
2230 5 has taken a fork
2230 2 has taken a fork
2231 2 has taken a fork
2231 2 is eating
2427 5 died
==29340==
==29340== Use --history-level=approx or =none to gain increased speed, at
==29340== the cost of reduced accuracy of conflicting-access information
==29340== For lists of detected and suppressed errors, rerun with: -s
==29340== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 17212 from 135)
 ~/.../philosophers/philo_rebuild   main ● 



-------------------------------------------------------------------



Valgrind


/philo_rebuild   main ●  valgrind --tool=drd ./philo 5 800 200 200 7
==29406== drd, a thread error detector
==29406== Copyright (C) 2006-2020, and GNU GPL'd, by Bart Van Assche.
==29406== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==29406== Command: ./philo 5 800 200 200 7
==29406==
  - Philosophers: 5
  - Time to die: 800 ms
  - Time to eat: 200 ms
  - Time to sleep: 200 ms
  - Must eat: 7 times
29 1 has taken a fork
36 1 has taken a fork
36 1 is eating
40 3 has taken a fork
42 3 has taken a fork
43 3 is eating
237 5 has taken a fork
237 5 has taken a fork
237 5 is eating
238 1 is sleeping
238 2 has taken a fork
245 2 has taken a fork
246 2 is eating
246 4 has taken a fork
247 3 is sleeping
437 4 has taken a fork
438 1 is thinking
438 5 is sleeping
440 4 is eating
446 1 has taken a fork
447 2 is sleeping
448 3 is thinking
448 1 has taken a fork
448 1 is eating
639 5 is thinking
640 4 is sleeping
641 3 has taken a fork
641 3 has taken a fork
641 3 is eating
648 2 is thinking
649 5 has taken a fork
649 5 has taken a fork
650 5 is eating
650 1 is sleeping
650 2 has taken a fork
841 4 is thinking
842 2 has taken a fork
844 3 is sleeping
845 4 has taken a fork
845 2 is eating
850 1 is thinking
852 5 is sleeping
852 4 has taken a fork
853 4 is eating
1045 3 is thinking
1046 2 is sleeping
1047 1 has taken a fork
1048 1 has taken a fork
1048 1 is eating
1052 5 is thinking
1053 3 has taken a fork
1053 3 has taken a fork
1053 3 is eating
1054 4 is sleeping
1247 2 is thinking
1248 5 has taken a fork
1249 5 has taken a fork
1250 5 is eating
1251 1 is sleeping
1251 2 has taken a fork
1253 3 is sleeping
1254 2 has taken a fork
1254 2 is eating
1254 4 is thinking
1255 4 has taken a fork
1450 5 is sleeping
1451 4 has taken a fork
1452 1 is thinking
1454 4 is eating
1455 3 is thinking
1456 2 is sleeping
1456 1 has taken a fork
1456 1 has taken a fork
1457 1 is eating
1650 5 is thinking
1655 4 is sleeping
1655 3 has taken a fork
1656 3 has taken a fork
1656 2 is thinking
1657 3 is eating
1657 2 has taken a fork
1658 5 has taken a fork
1658 5 has taken a fork
1658 5 is eating
1659 1 is sleeping
1855 4 is thinking
1857 3 is sleeping
1858 2 has taken a fork
1858 4 has taken a fork
1859 2 is eating
1860 1 is thinking
1860 5 is sleeping
1861 4 has taken a fork
1862 4 is eating
2058 3 is thinking
2061 1 has taken a fork
2061 1 has taken a fork
2062 4 is sleeping
2062 2 is sleeping
2063 3 has taken a fork
2063 3 has taken a fork
2063 3 is eating
2064 5 is thinking
2064 1 is eating
2262 4 is thinking
2263 3 is sleeping
2264 2 is thinking
2264 5 has taken a fork
2266 1 is sleeping
2266 2 has taken a fork
2267 5 has taken a fork
2267 5 is eating
2268 2 has taken a fork
2268 4 has taken a fork
2269 2 is eating
2464 3 is thinking
2466 1 is thinking
2469 5 is sleeping
2469 4 has taken a fork
2470 4 is eating
2470 2 is sleeping
2471 1 has taken a fork
2471 1 has taken a fork
2471 1 is eating
2669 5 is thinking
2670 4 is sleeping
2671 2 is thinking
2672 3 has taken a fork
2673 5 has taken a fork
2673 5 has taken a fork
2673 5 is eating
2673 2 has taken a fork
2673 2 has taken a fork
2673 2 is eating
2674 1 is sleeping
2864 3 died
==29406==
==29406== For lists of detected and suppressed errors, rerun with: -s
==29406== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 13 from 5)
 ~/.../philosophers/philo_rebuild   main ● 




---------------------------------------------------------



